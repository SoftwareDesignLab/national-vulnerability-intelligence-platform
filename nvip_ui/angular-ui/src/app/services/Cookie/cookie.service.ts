import { Injectable } from '@angular/core';

/* Related Interfaces */
export interface Cookie {
  key: string;
  value: string;
}

export interface CookieStore extends Record<string, string>{
  [key: string]: string;
}

@Injectable({
  providedIn: 'root'
})
export class CookieService {
  private cookies: CookieStore = {}

  constructor() {
    this.init()
  }

  private init() {
    let cookiesFromBrowser: string[] = document.cookie.split(";")
    cookiesFromBrowser.forEach((cookiesString) => {
      const [key, value] = cookiesString.split("=");
      this.cookies[key] = value;
    })
  }

  get(cookieKey: string) {
    return cookieKey in this.cookies ? this.cookies[cookieKey] : null;
  }


}
